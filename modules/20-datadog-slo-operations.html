<!DOCTYPE html>
<html lang="ko" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Module 20: Datadog SLO Operations | Service Incident Analysis</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            gray: {
              950: '#0a0a0f',
              900: '#111118',
              850: '#16161f',
              800: '#1e1e2a',
              700: '#2a2a3a',
              600: '#3a3a4d',
              400: '#8888a0',
              300: '#a0a0b8',
              200: '#c0c0d0',
              100: '#e0e0ea'
            }
          }
        }
      }
    };
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css?v=20260218">
  <script src="../js/auth.js"></script>
  <style>
    html { scroll-behavior: smooth; }
    .info-box { border-left: 4px solid #3b82f6; background: rgba(59, 130, 246, 0.08); }
    .tip-box { border-left: 4px solid #eab308; background: rgba(234, 179, 8, 0.08); }
    .warning-box { border-left: 4px solid #ef4444; background: rgba(239, 68, 68, 0.08); }
    .success-box { border-left: 4px solid #22c55e; background: rgba(34, 197, 94, 0.08); }
    .sidebar-link.active { color: #60a5fa; border-left-color: #3b82f6; }
    .sidebar-link { transition: all 0.2s; }
    .sidebar-link:hover { color: #93c5fd; border-left-color: #60a5fa; }
    .sidebar-check.done { background: rgba(34, 197, 94, 0.2); border-color: #22c55e; color: #22c55e; }
    pre[class*="language-"] { border-radius: 0.5rem; margin: 1rem 0; }
    @media (max-width: 1023px) {
      .sidebar-toggle-target { display: none; }
      .sidebar-toggle-target.open { display: block; }
    }
  </style>
</head>
<body class="bg-gray-950 text-gray-100 min-h-screen" style="display:none">
  <header class="sticky top-0 z-50 bg-gray-950/90 backdrop-blur-sm border-b border-gray-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 py-4 flex items-center justify-between">
      <div class="flex items-center gap-4">
        <a href="../index.html" class="flex items-center gap-2 text-gray-400 hover:text-blue-400 transition-colors text-sm font-medium">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
          홈으로
        </a>
        <div class="hidden sm:block w-px h-6 bg-gray-800"></div>
        <div>
          <span class="text-blue-400 text-xs font-semibold tracking-wider uppercase">Module 20</span>
          <h1 class="text-lg sm:text-xl font-bold text-gray-100">Datadog SLO Operations</h1>
        </div>
      </div>
      <button id="sidebar-toggle" class="lg:hidden p-2 rounded-lg bg-gray-900 border border-gray-800 hover:border-gray-700 transition-colors" onclick="document.getElementById('sidebar').classList.toggle('open')">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
    </div>
  </header>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 py-8 flex gap-8">
    <aside id="sidebar" class="sidebar-toggle-target lg:block w-64 flex-shrink-0">
      <nav class="lg:sticky lg:top-24 bg-gray-900 rounded-xl border border-gray-800 p-5">
        <h3 class="text-xs font-semibold uppercase tracking-wider text-gray-500 mb-4">목차</h3>
        <ul class="space-y-1">
          <li><a href="#section-1" class="sidebar-link flex items-center gap-2 px-3 py-2 text-sm text-gray-400 border-l-2 border-transparent rounded-r-md" data-section="section-1"><span class="sidebar-check w-4 h-4 rounded-full border border-gray-700 flex items-center justify-center text-xs" id="check-section-1"></span>SLO/SLI 정의</a></li>
          <li><a href="#section-2" class="sidebar-link flex items-center gap-2 px-3 py-2 text-sm text-gray-400 border-l-2 border-transparent rounded-r-md" data-section="section-2"><span class="sidebar-check w-4 h-4 rounded-full border border-gray-700 flex items-center justify-center text-xs" id="check-section-2"></span>Error Budget과 Burn Rate</a></li>
          <li><a href="#section-3" class="sidebar-link flex items-center gap-2 px-3 py-2 text-sm text-gray-400 border-l-2 border-transparent rounded-r-md" data-section="section-3"><span class="sidebar-check w-4 h-4 rounded-full border border-gray-700 flex items-center justify-center text-xs" id="check-section-3"></span>멀티 윈도우 알림 전략</a></li>
          <li><a href="#section-4" class="sidebar-link flex items-center gap-2 px-3 py-2 text-sm text-gray-400 border-l-2 border-transparent rounded-r-md" data-section="section-4"><span class="sidebar-check w-4 h-4 rounded-full border border-gray-700 flex items-center justify-center text-xs" id="check-section-4"></span>운영 리듬과 의사결정</a></li>
          <li><a href="#section-5" class="sidebar-link flex items-center gap-2 px-3 py-2 text-sm text-gray-400 border-l-2 border-transparent rounded-r-md" data-section="section-5"><span class="sidebar-check w-4 h-4 rounded-full border border-gray-700 flex items-center justify-center text-xs" id="check-section-5"></span>실전 적용 템플릿</a></li>
          <li><a href="#quiz" class="sidebar-link flex items-center gap-2 px-3 py-2 text-sm text-gray-400 border-l-2 border-transparent rounded-r-md" data-section="quiz"><span class="sidebar-check w-4 h-4 rounded-full border border-gray-700 flex items-center justify-center text-xs" id="check-quiz"></span>퀴즈</a></li>
        </ul>
        <div class="mt-6 pt-4 border-t border-gray-800">
          <div class="flex items-center justify-between text-xs text-gray-500 mb-2"><span>진행률</span><span id="progress-percent">0%</span></div>
          <div class="w-full bg-gray-800 rounded-full h-1.5"><div id="progress-bar" class="bg-blue-500 h-1.5 rounded-full transition-all duration-500" style="width:0%"></div></div>
        </div>
      </nav>
    </aside>

    <main class="flex-1 min-w-0">
      <section id="section-1" class="mb-16">
        <div class="flex items-center gap-3 mb-6">
          <div class="w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center"><span class="text-blue-400 font-bold text-lg">1</span></div>
          <h2 class="text-2xl font-bold text-gray-100">SLO/SLI 정의: 사용자 영향을 먼저 고정</h2>
        </div>
        <div class="space-y-6 text-gray-300 leading-relaxed">
          <p>SLO 운영의 시작은 기술 지표가 아니라 <strong class="text-gray-100">사용자 경험을 반영하는 SLI</strong>를 고르는 것입니다. 예를 들어 checkout API는 "2초 내 성공 응답 비율"이 실제 비즈니스 영향과 더 직접 연결됩니다.</p>
          <div class="bg-gray-900 border border-gray-800 rounded-xl p-5">
            <h3 class="font-semibold text-gray-100 mb-3">SLI 선정 체크리스트</h3>
            <ul class="space-y-2 text-sm text-gray-300">
              <li>사용자 행동과 연결되는가? (로그인 성공, 결제 성공 등)</li>
              <li>측정이 일관되는가? (정의/태그/집계 방식 고정)</li>
              <li>운영팀이 조치 가능한가? (원인 추적 가능성)</li>
            </ul>
          </div>
          <div class="info-box rounded-lg p-5">
            <h3 class="font-semibold text-blue-300 mb-2">예시</h3>
            <p class="text-sm">목표 SLO 99.9%를 월 단위로 운영한다면 허용 실패율은 0.1%입니다. 이 한도를 "Error Budget"으로 취급하고, 소진 속도로 위험도를 판단합니다.</p>
          </div>
        </div>
      </section>

      <section id="section-2" class="mb-16">
        <div class="flex items-center gap-3 mb-6">
          <div class="w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center"><span class="text-blue-400 font-bold text-lg">2</span></div>
          <h2 class="text-2xl font-bold text-gray-100">Error Budget과 Burn Rate</h2>
        </div>
        <div class="space-y-6 text-gray-300 leading-relaxed">
          <p>Burn Rate는 "현재 실패율이 허용 실패율보다 몇 배 빠르게 소진되는지"를 보여줍니다. 값이 클수록 예산이 빠르게 사라지고 있다는 뜻입니다.</p>
          <div class="bg-gray-900 border border-gray-800 rounded-xl p-5">
            <h3 class="font-semibold text-gray-100 mb-2">핵심 공식</h3>
            <pre><code class="language-text">burn_rate = current_error_rate / allowed_error_rate

예: SLO 99.9% (allowed_error_rate = 0.001)
현재 error_rate = 0.01 (1%) 라면 burn_rate = 10</code></pre>
          </div>
          <div class="tip-box rounded-lg p-5">
            <h3 class="font-semibold text-amber-300 mb-2">운영 해석</h3>
            <ul class="space-y-1 text-sm">
              <li>Burn rate 1: 계획된 속도로 budget 사용</li>
              <li>Burn rate 2~5: 주의 구간, 조기 분석 필요</li>
              <li>Burn rate 10+: 즉시 대응(P1/P2) 구간</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="section-3" class="mb-16">
        <div class="flex items-center gap-3 mb-6">
          <div class="w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center"><span class="text-blue-400 font-bold text-lg">3</span></div>
          <h2 class="text-2xl font-bold text-gray-100">멀티 윈도우 알림 전략</h2>
        </div>
        <div class="space-y-6 text-gray-300 leading-relaxed">
          <p>짧은 창은 빠른 탐지에 유리하고, 긴 창은 노이즈 억제에 유리합니다. Datadog에서는 두 창을 함께 사용해 품질을 크게 올릴 수 있습니다.</p>
          <div class="bg-gray-900 border border-gray-800 rounded-xl p-5">
            <h3 class="font-semibold text-gray-100 mb-3">권장 패턴</h3>
            <ul class="space-y-2 text-sm">
              <li><strong class="text-gray-100">Critical:</strong> 5m burn rate &gt; 14 AND 1h burn rate &gt; 7</li>
              <li><strong class="text-gray-100">Warning:</strong> 30m burn rate &gt; 6 AND 6h burn rate &gt; 3</li>
            </ul>
          </div>
          <pre><code class="language-bash"># Datadog monitor query idea (concept)
short = burn_rate(last_5m, service:checkout)
long  = burn_rate(last_1h, service:checkout)
alert if short > 14 && long > 7</code></pre>
          <div class="warning-box rounded-lg p-5">
            <h3 class="font-semibold text-red-300 mb-2">주의</h3>
            <p class="text-sm">짧은 창 단독 알림은 배포 직후 스파이크에 취약합니다. 반대로 긴 창 단독 알림은 감지가 늦어집니다. 반드시 조합해서 운영하세요.</p>
          </div>
        </div>
      </section>

      <section id="section-4" class="mb-16">
        <div class="flex items-center gap-3 mb-6">
          <div class="w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center"><span class="text-blue-400 font-bold text-lg">4</span></div>
          <h2 class="text-2xl font-bold text-gray-100">운영 리듬과 의사결정 룰</h2>
        </div>
        <div class="space-y-6 text-gray-300 leading-relaxed">
          <p>SLO는 대시보드에만 두면 의미가 없습니다. 운영 캘린더와 배포 의사결정에 연결해야 효과가 납니다.</p>
          <div class="grid gap-4 sm:grid-cols-2">
            <div class="bg-gray-900 border border-gray-800 rounded-xl p-5">
              <h3 class="text-sm font-semibold text-gray-200 mb-2">주간 SLO Review</h3>
              <ul class="space-y-1 text-xs text-gray-400">
                <li>- 상위 budget 소진 서비스 3개 리뷰</li>
                <li>- 반복 원인(배포, DB, 외부 API) 분류</li>
                <li>- 다음 주 개선 작업 등록</li>
              </ul>
            </div>
            <div class="bg-gray-900 border border-gray-800 rounded-xl p-5">
              <h3 class="text-sm font-semibold text-gray-200 mb-2">배포 가드레일</h3>
              <ul class="space-y-1 text-xs text-gray-400">
                <li>- budget 잔여 30% 미만: 기능 배포 축소</li>
                <li>- budget 잔여 10% 미만: 안정화 작업 우선</li>
                <li>- budget 소진: 변경 freeze + RCA</li>
              </ul>
            </div>
          </div>
          <div class="success-box rounded-lg p-5">
            <h3 class="font-semibold text-emerald-300 mb-2">핵심 포인트</h3>
            <p class="text-sm">SLO는 팀 성과지표가 아니라 "운영 의사결정 도구"입니다. 임계값을 팀 합의 문서(예: release policy)에 명시하세요.</p>
          </div>
        </div>
      </section>

      <section id="section-5" class="mb-16">
        <div class="flex items-center gap-3 mb-6">
          <div class="w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center"><span class="text-blue-400 font-bold text-lg">5</span></div>
          <h2 class="text-2xl font-bold text-gray-100">실전 적용 템플릿</h2>
        </div>
        <div class="space-y-6 text-gray-300 leading-relaxed">
          <div class="bg-gray-900 border border-gray-800 rounded-xl p-5">
            <h3 class="font-semibold text-gray-100 mb-3">운영 회의 템플릿 (주간)</h3>
            <pre><code class="language-text">1) Top Burn Services
2) Burn Root Cause (deploy / infra / dependency)
3) Next Week Mitigation Plan
4) Release Gate Decision
5) Owner + Due Date</code></pre>
          </div>
          <div class="info-box rounded-lg p-5">
            <h3 class="font-semibold text-blue-300 mb-2">문서화 권장 항목</h3>
            <ul class="space-y-1 text-sm">
              <li>서비스별 SLI 정의와 예외 조건</li>
              <li>경보 라우팅 룰(critical/warning 채널)</li>
              <li>error budget 소진 시 단계별 조치 기준</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="quiz" class="mb-16">
        <div class="flex items-center gap-3 mb-6">
          <div class="w-10 h-10 rounded-lg bg-amber-500/20 flex items-center justify-center"><svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg></div>
          <h2 class="text-2xl font-bold text-gray-100">퀴즈</h2>
        </div>
        <p class="text-gray-400 text-sm mb-6">SLO 운영 핵심 개념을 5문제로 확인해보세요.</p>
        <div id="quiz-container"></div>
      </section>

      <div class="border-t border-gray-800 pt-8 mt-16">
        <div class="flex justify-center mb-8">
          <button id="complete-btn" onclick="handleComplete()" class="px-8 py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-xl transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-950">학습 완료</button>
        </div>
        <div class="flex items-center justify-between">
          <a href="19-datadog-monitor-engineering.html" class="flex items-center gap-2 text-gray-400 hover:text-blue-400 transition-colors text-sm font-medium"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>Module 19: Datadog Monitor Engineering</a>
          <a href="21-datadog-cost-governance.html" class="flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-colors text-sm font-medium">Module 21: Datadog Cost Governance<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></a>
        </div>
      </div>
    </main>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script src="../js/progress.js"></script>
  <script src="../js/quiz.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var questions = [
        {
          type: 'choice',
          question: 'SLO에서 Error Budget은 무엇을 의미하나요?',
          options: ['허용 가능한 실패량', '최대 CPU 사용량', '주간 배포 횟수', '모니터 개수'],
          answer: 0,
          explanation: 'Error Budget은 목표 SLO 내에서 허용 가능한 실패량입니다.'
        },
        {
          type: 'choice',
          question: 'Burn rate = 10이 의미하는 것은?',
          options: ['budget을 계획 대비 10배 빠르게 소진', '장애가 10분 후 종료', 'SLO가 10% 개선', '에러율이 10% 이하'],
          answer: 0,
          explanation: '현재 실패율이 허용 실패율보다 10배 높다는 의미로, 빠른 대응이 필요합니다.'
        },
        {
          type: 'choice',
          question: '멀티 윈도우 burn-rate 알림의 장점은?',
          options: ['구현이 단순하다', '짧은 창의 빠른 탐지와 긴 창의 안정성을 결합', '모니터 수를 줄인다', '비용을 자동으로 절감한다'],
          answer: 1,
          explanation: '짧은 창과 긴 창을 동시에 사용하면 빠른 탐지와 노이즈 억제를 동시에 달성할 수 있습니다.'
        },
        {
          type: 'choice',
          question: 'Error budget 잔여가 매우 낮을 때 일반적으로 옳은 조치는?',
          options: ['실험성 배포 확대', '모든 모니터 비활성화', '안정화 작업 우선 및 배포 제한', '경보 임계치 완화'],
          answer: 2,
          explanation: 'budget 잔여가 낮으면 신기능보다 안정화 작업을 우선해야 전체 신뢰성을 회복할 수 있습니다.'
        },
        {
          type: 'short',
          question: 'SLI, SLO 운영에서 현재 예산 소진 속도를 나타내는 지표 이름은? (영문 9자, 공백 없이)',
          answer: 'burnrate',
          evaluator: {
            mode: 'keyword',
            keywords: ['burn rate', 'burnrate', '번율'],
            minMatch: 1
          },
          explanation: 'Burn rate는 error budget의 소진 속도를 나타내는 핵심 운영 지표입니다.'
        }
      ];

      if (typeof QuizEngine !== 'undefined') {
        QuizEngine.init('quiz-container', questions, 'module20');
      }

      if (typeof ProgressTracker !== 'undefined' && ProgressTracker.isComplete('module20')) {
        markButtonComplete();
      }

      initSidebar();
    });

    function handleComplete() {
      if (typeof ProgressTracker === 'undefined') {
        alert('진도 저장 기능을 찾을 수 없습니다. 페이지를 새로고침해 주세요.');
        return;
      }

      var completionResult = ProgressTracker.markComplete('module20');
      var isSuccess = completionResult !== false && (!completionResult || completionResult.success !== false);
      if (isSuccess) {
        markButtonComplete();
        return;
      }

      var message = completionResult && completionResult.message
        ? completionResult.message
        : '완료 처리에 실패했습니다. 잠시 후 다시 시도해 주세요.';
      alert(message);
    }

    function markButtonComplete() {
      var btn = document.getElementById('complete-btn');
      if (btn) {
        btn.classList.remove('bg-blue-600', 'hover:bg-blue-500');
        btn.classList.add('bg-emerald-600', 'hover:bg-emerald-500', 'completed');
        btn.innerHTML = '<svg class="w-5 h-5 inline mr-2 -mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>학습 완료됨';
      }
    }

    function initSidebar() {
      var sections = document.querySelectorAll('section[id]');
      var sidebarLinks = document.querySelectorAll('.sidebar-link');
      var observer = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            var id = entry.target.getAttribute('id');
            sidebarLinks.forEach(function(link) {
              link.classList.remove('active');
              if (link.getAttribute('data-section') === id) {
                link.classList.add('active');
              }
            });

            if (id.indexOf('section-') === 0) {
              var check = document.getElementById('check-' + id);
              if (check && !check.classList.contains('done')) {
                check.classList.add('done');
                check.innerHTML = '&#10003;';
              }
            }
            if (id === 'quiz') {
              var quizCheck = document.getElementById('check-quiz');
              if (quizCheck && !quizCheck.classList.contains('done')) {
                quizCheck.classList.add('done');
                quizCheck.innerHTML = '&#10003;';
              }
            }
            updateProgress();
          }
        });
      }, { rootMargin: '-20% 0px -60% 0px' });

      sections.forEach(function(section) {
        observer.observe(section);
      });

      sidebarLinks.forEach(function(link) {
        link.addEventListener('click', function() {
          var sidebar = document.getElementById('sidebar');
          if (window.innerWidth < 1024 && sidebar) {
            sidebar.classList.remove('open');
          }
        });
      });
    }

    function updateProgress() {
      var totalSections = 6;
      var completed = 0;
      for (var i = 1; i <= 5; i++) {
        var check = document.getElementById('check-section-' + i);
        if (check && check.classList.contains('done')) {
          completed++;
        }
      }
      var quizCheck = document.getElementById('check-quiz');
      if (quizCheck && quizCheck.classList.contains('done')) {
        completed++;
      }
      var percent = Math.round((completed / totalSections) * 100);
      var bar = document.getElementById('progress-bar');
      var percentText = document.getElementById('progress-percent');
      if (bar) bar.style.width = percent + '%';
      if (percentText) percentText.textContent = percent + '%';
    }
  </script>
</body>
</html>
